---
layout: blog
book: true
background-image: https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-24%20下午10.39.12.png
category: 书籍
title: Owner's manual for my outlier detection software
tags:
- Outlier detection
---

Author:

- LiBingtao:lbt67784273@gmail.com
- LiYupeng:yupeng.li@aramcoasia.com

## Lab curve

### 1. Organize your data

* First you should put your data in an excel sheet named "MICP":

  <div align="left">
  <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-24%20下午8.44.03.png" width="260" >

  </div>

  ​

* Then organize your data like this:

  * First column is rock type
  * Second column is sample id
  * The next two columns are saturation and pressure of mercury injection
    <div align="left">
    <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-24%20下午8.49.04.png" width="260" >

    </div>

### 2. Software manual 

* Open the software
  * pick the "Lab Curve" tab,click "input data" button,choose your excel file

  * Click the "plot" button,then all the MICP curve will be display in the upper-left corner

  * You can define your own outlier fraction number by change the value in box under "Outlier fraction,%"

  * Click the "outlier detect button",six method were applied on your curve fitting data, which were generated by cubic polynomail fit and then reduct to 2D by PCA.

  * Pick the data point in "MICP outlier detection" figure, more detail will be displayed on the bottom.Left are common used MICP parameters and throat radius distribution.Right is the cubic curve used for outlier detection and the residual distributionthat between real data and predict data
    <div align="left">
    <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-24%20下午10.36.55.png" width="500" >

    </div>


## Well log

### 1. Organize you data

* First you should make a new directory,put all your data in it. Your data should include:

  * Every single well should correspond to a single las file and an single excel file whose name should has a format as {"well name(no space) + " "(space) + "other information"(anything will be fine)}, the name of this two file should be same except suffix.
    <div align="left">
    <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-25%20下午1.47.32.png" width="300" >

    </div>

    * The excel file should contain the top depth of layers of the well.First column is "surface name" which is the layer name, second column is "depth" which is the top depth of layer.This file should only have one sheet.
      <div align="left">
      <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-24%20下午9.37.04.png" width="200" >

      </div>

  * An excel file named "coordinate" contains the coordinate of all the well in your directory.First column is "well name", second column and third column must be x and y coordinate of the well.These data should be in a sheet named "coordinate".

    <div align="left">
    <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-25%20下午1.48.45.png" width="280" >

    </div>

  * Any other file shouldn't appear in this directory

### 2. Software manual

* Open the software
  * pick the "Well Log" tab,click "choose directory" button,choose your directory

  * Click the "load data" button, wait your data loaded successfully 

  * You should choose the curve type and layer that you are interested follow the prompt before go on other job

  * Click the "plot" button, then all the well log curve in the layer you choosed will be display in the upper-left corner

  * You can define your own outlier fraction number by change the value in box under "Outlier fraction,%"

  * Click the "outlier detect button",six method were applied on the data, which were generated by appling fft to all the curve and filtering by median filter to get a reference curve and then calculate the mean and standard deviation between every curve and the reference curve.

  * Pick the data point in "Well log outlier detection" figure, the curve of the well you choosed is displayed highlight on the lower-right corner
    <div align="left">
    <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-25%20下午1.50.21.png" width="500" >

    </div>


## 3D Spacial data

### 1. Organize your data

* Same as the Well log data
  * If you have already choose a directory and loaded data in Well Log, you can use the same data
  * If you want to use other data, rechoose directory and reload data.

### 2. Software manual

- Open the software

  - pick the "3D Spacial" tab,click "choose directory" button,choose your directory

  - Click the "load data" button, wait your data loaded successfully 

  - You should choose the curve type and layer that you are interested follow the prompt before go on other job

  - Click the "plot" button, then all the well log curve in the layer you choosed will be display in the left in a 3D graph. You can use mouse to rotate the graph as you like.

  - You can define the order of of the polynomial surface and the amount of nearest neighbors of moving window

  - Click the "outlier detect button",two method(polynomial surface fitting and moving window surface fitting) were applied on the spacial data, which were the mean value of the well log curve in the layer you choosed. The outlier is the red point in the figure.Under each surface is the distribution of  residual.
    <div align="left">
    <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-25%20下午1.49.20.png" width="500" >

    </div>

## Data statistics

### 1. Organize your data

- Same as the Well log data
  - If you have already choose a directory and loaded data in Well Log, you can use the same data
  - If you want to use other data, rechoose directory and reload data.

### 2. Software manual

- Open the software

  - pick the "Data stats" tab,click "choose directory" button,choose your directory

  - Click the "load data" button, wait your data loaded successfully 

  - You should choose the well you are interested to analyze follow the prompt before go on other job

  - Click the "plot" button, then a boxplot and a correlation matrix will be displayed like:
    <div align="left">
    <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-25%20下午1.51.02.png" width="500" >

    </div>

  - Click the "pairplot" button,all the data will be displayed in a new dialog.You can also define the kind of pairplot.
    <div align="left">
    <img src="https://raw.githubusercontent.com/LiBingtao/LiBingtao.github.io/master/image/屏幕快照%202018-03-24%20下午10.47.46.png" width="500" >

    </div>

